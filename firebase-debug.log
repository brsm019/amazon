[debug] [2021-06-04T08:31:28.694Z] ----------------------------------------------------------------------
[debug] [2021-06-04T08:31:28.695Z] Command:       /usr/bin/node /usr/local/bin/firebase emulators:start
[debug] [2021-06-04T08:31:28.696Z] CLI Version:   9.12.0
[debug] [2021-06-04T08:31:28.696Z] Platform:      linux
[debug] [2021-06-04T08:31:28.696Z] Node Version:  v10.19.0
[debug] [2021-06-04T08:31:28.696Z] Time:          Fri Jun 04 2021 09:31:28 GMT+0100 (British Summer Time)
[debug] [2021-06-04T08:31:28.696Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-06-04T08:31:28.703Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-06-04T08:31:28.703Z] > authorizing via signed-in user (brsm019@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-06-04T08:31:28.733Z] [hub] writing locator at /tmp/hub-fir-cccd0.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[warn] ⚠  Your requested "node" version "14" doesn't match your global version "10" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"14\" doesn't match your global version \"10\""}}
[debug] [2021-06-04T08:31:28.787Z] defaultcredentials: writing to file /home/bsmithtbc/.config/firebase/brsm019_gmail_com_application_default_credentials.json
[debug] [2021-06-04T08:31:28.788Z] Setting GAC to /home/bsmithtbc/.config/firebase/brsm019_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/bsmithtbc/.config/firebase/brsm019_gmail_com_application_default_credentials.json"}}
[debug] [2021-06-04T08:31:28.790Z] > refreshing access token with scopes: []
[debug] [2021-06-04T08:31:28.790Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-06-04T08:31:28.901Z] <<< HTTP RESPONSE 200 {"pragma":"no-cache","cache-control":"no-cache, no-store, max-age=0, must-revalidate","date":"Fri, 04 Jun 2021 08:31:28 GMT","expires":"Mon, 01 Jan 1990 00:00:00 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-04T08:31:28.910Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/fir-cccd0/adminSdkConfig [none]
[debug] [2021-06-04T08:31:29.262Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/fir-cccd0/adminSdkConfig 200
[debug] [2021-06-04T08:31:29.263Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/fir-cccd0/adminSdkConfig {"projectId":"fir-cccd0","storageBucket":"fir-cccd0.appspot.com"}
[debug] [2021-06-04T08:31:29.288Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/fir-cccd0/sites 
[debug] [2021-06-04T08:31:30.062Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/fir-cccd0/sites 200
[debug] [2021-06-04T08:31:30.062Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/fir-cccd0/sites {"sites":[{"name":"projects/625707386726/sites/fir-cccd0","defaultUrl":"https://fir-cccd0.web.app","appId":"1:625707386726:web:051bc0c29e95ccebeaaaa7","type":"DEFAULT_SITE"}]}
[debug] [2021-06-04T08:31:30.063Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/fir-cccd0/webApps/1:625707386726:web:051bc0c29e95ccebeaaaa7/config [none]
[debug] [2021-06-04T08:31:30.790Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/fir-cccd0/webApps/1:625707386726:web:051bc0c29e95ccebeaaaa7/config 200
[debug] [2021-06-04T08:31:30.790Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/fir-cccd0/webApps/1:625707386726:web:051bc0c29e95ccebeaaaa7/config {"projectId":"fir-cccd0","appId":"1:625707386726:web:051bc0c29e95ccebeaaaa7","storageBucket":"fir-cccd0.appspot.com","apiKey":"AIzaSyBpJKqkAgHuM-v6YjUoC-xyEllxzsyNyjw","authDomain":"fir-cccd0.firebaseapp.com","messagingSenderId":"625707386726","measurementId":"G-B6BE6KVJKF"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.5.0.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.5.0.zip..."}}
[debug] [2021-06-04T08:31:30.855Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.5.0.zip 
[debug] [2021-06-04T08:31:31.045Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.5.0.zip 200
[debug] [2021-06-04T08:31:31.046Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.5.0.zip [stream]
[debug] [2021-06-04T08:31:32.874Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-06-04T08:31:32.874Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-06-04T08:31:32.874Z] Starting Emulator UI with command {"binary":"node","args":["/home/bsmithtbc/.cache/firebase/emulators/ui-v1.5.0/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/bsmithtbc/.cache/firebase/emulators/ui-v1.5.0/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-06-04T08:31:33.273Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/home/bsmithtbc/Documents/Learn/amazon/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/bsmithtbc/Documents/Learn/amazon/functions\" for Cloud Functions..."}}
[debug] [2021-06-04T08:31:33.411Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-06-04T08:31:33.412Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-06-04T08:31:33.412Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-06-04T08:31:33.412Z] [worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: Assigning socketPath: /tmp/fire_emu_6138.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: Assigning socketPath: /tmp/fire_emu_6138.sock"}}
[debug] [2021-06-04T08:31:33.412Z] [worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: BUSY"}}
[debug] [2021-06-04T08:31:33.883Z] [runtime-status] [6138] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T08:31:33.886Z] [runtime-status] [6138] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Disabled runtime features: undefined"}}
[debug] [2021-06-04T08:31:33.888Z] [runtime-status] [6138] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T08:31:33.890Z] [runtime-status] [6138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:31:33.892Z] [runtime-status] [6138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:31:33.896Z] [runtime-status] [6138] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T08:31:33.898Z] [runtime-status] [6138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:31:33.955Z] [runtime-status] [6138] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T08:31:33.958Z] [runtime-status] [6138] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T08:31:33.958Z] [runtime-status] [6138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:31:33.958Z] [runtime-status] [6138] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T08:31:33.958Z] [runtime-status] [6138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:31:33.958Z] [runtime-status] [6138] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6138] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/fir-cccd0/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/fir-cccd0/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-06-04T08:31:34.093Z] [worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: IDLE"}}
[debug] [2021-06-04T08:33:41.932Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T08:33:41.933Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T08:33:41.933Z] Accepted request GET /fir-cccd0/us-central1/api --> us-central1-api
[debug] [2021-06-04T08:33:41.941Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T08:33:41.942Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T08:33:41.942Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T08:33:41.942Z] [worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: Assigning socketPath: /tmp/fire_emu_6278.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: Assigning socketPath: /tmp/fire_emu_6278.sock"}}
[debug] [2021-06-04T08:33:41.942Z] [worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: BUSY"}}
[debug] [2021-06-04T08:33:42.389Z] [runtime-status] [6278] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T08:33:42.391Z] [runtime-status] [6278] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Disabled runtime features: undefined"}}
[debug] [2021-06-04T08:33:42.394Z] [runtime-status] [6278] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T08:33:42.396Z] [runtime-status] [6278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:33:42.398Z] [runtime-status] [6278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:33:42.403Z] [runtime-status] [6278] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T08:33:42.404Z] [runtime-status] [6278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:33:42.437Z] [runtime-status] [6278] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T08:33:42.438Z] [runtime-status] [6278] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T08:33:42.441Z] [runtime-status] [6278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:33:42.443Z] [runtime-status] [6278] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T08:33:42.444Z] [runtime-status] [6278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:33:42.444Z] [runtime-status] [6278] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T08:33:42.525Z] [runtime-status] [6278] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T08:33:42.526Z] [runtime-status] [6278] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T08:33:42.527Z] [runtime-status] [6278] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T08:33:42.541Z] [runtime-status] [6278] Attempting to listen to socketPath: /tmp/fire_emu_6278.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Attempting to listen to socketPath: /tmp/fire_emu_6278.sock"}}
[debug] [2021-06-04T08:33:42.542Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T08:33:42.543Z] [functions] Got req.url=/fir-cccd0/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api, mapping to path=/"}}
[debug] [2021-06-04T08:33:42.553Z] [runtime-status] [6278] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Ephemeral server handling GET request"}}
[debug] [2021-06-04T08:33:42.557Z] [runtime-status] [6278] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6278] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-06-04T08:33:42.559Z] [worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: IDLE"}}
[debug] [2021-06-04T08:33:42.559Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T08:33:42.619Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2021-06-04T08:34:07.105Z] File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers"}}
[debug] [2021-06-04T08:34:08.107Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-06-04T08:34:08.108Z] [worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: FINISHING"}}
[debug] [2021-06-04T08:34:08.110Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-06-04T08:34:08.111Z] [worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: FINISHING"}}
[debug] [2021-06-04T08:34:08.124Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-06-04T08:34:08.124Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-06-04T08:34:08.125Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-06-04T08:34:08.125Z] [worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: Assigning socketPath: /tmp/fire_emu_6314.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: Assigning socketPath: /tmp/fire_emu_6314.sock"}}
[debug] [2021-06-04T08:34:08.125Z] [worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: BUSY"}}
[debug] [2021-06-04T08:34:08.127Z] [worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: exited"}}
[debug] [2021-06-04T08:34:08.128Z] [worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-85194c61-79dd-4c05-ad71-ff9002295015]: FINISHED"}}
[debug] [2021-06-04T08:34:08.128Z] [worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: exited"}}
[debug] [2021-06-04T08:34:08.128Z] [worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21674f41-c018-4891-81ad-b5ab1398d247]: FINISHED"}}
[debug] [2021-06-04T08:34:08.585Z] [runtime-status] [6314] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T08:34:08.588Z] [runtime-status] [6314] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Disabled runtime features: undefined"}}
[debug] [2021-06-04T08:34:08.590Z] [runtime-status] [6314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T08:34:08.591Z] [runtime-status] [6314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:34:08.591Z] [runtime-status] [6314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:34:08.597Z] [runtime-status] [6314] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T08:34:08.598Z] [runtime-status] [6314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:34:08.628Z] [runtime-status] [6314] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T08:34:08.629Z] [runtime-status] [6314] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T08:34:08.631Z] [runtime-status] [6314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:34:08.632Z] [runtime-status] [6314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T08:34:08.632Z] [runtime-status] [6314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T08:34:08.634Z] [runtime-status] [6314] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6314] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T08:34:08.704Z] [worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: IDLE"}}
[debug] [2021-06-04T09:13:18.583Z] File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers"}}
[debug] [2021-06-04T09:13:19.585Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-06-04T09:13:19.586Z] [worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: FINISHING"}}
[debug] [2021-06-04T09:13:19.587Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-06-04T09:13:19.588Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-06-04T09:13:19.606Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-06-04T09:13:19.606Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-06-04T09:13:19.607Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-06-04T09:13:19.607Z] [worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: Assigning socketPath: /tmp/fire_emu_23822.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: Assigning socketPath: /tmp/fire_emu_23822.sock"}}
[debug] [2021-06-04T09:13:19.607Z] [worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: BUSY"}}
[debug] [2021-06-04T09:13:19.609Z] [worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: exited"}}
[debug] [2021-06-04T09:13:19.609Z] [worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5b3af3c1-dd71-4c8b-9b83-9b68f15e0efc]: FINISHED"}}
[debug] [2021-06-04T09:13:20.041Z] [runtime-status] [23822] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:13:20.042Z] [runtime-status] [23822] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:13:20.044Z] [runtime-status] [23822] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:13:20.045Z] [runtime-status] [23822] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:13:20.045Z] [runtime-status] [23822] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:13:20.048Z] [runtime-status] [23822] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:13:20.048Z] [runtime-status] [23822] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:13:20.078Z] [runtime-status] [23822] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:13:20.079Z] [runtime-status] [23822] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:13:20.079Z] [runtime-status] [23822] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:13:20.080Z] [runtime-status] [23822] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:13:20.080Z] [runtime-status] [23822] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:13:20.080Z] [runtime-status] [23822] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23822] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:13:20.148Z] [worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: IDLE"}}
[debug] [2021-06-04T09:18:05.094Z] File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers"}}
[debug] [2021-06-04T09:18:06.095Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-06-04T09:18:06.096Z] [worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: FINISHING"}}
[debug] [2021-06-04T09:18:06.096Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-06-04T09:18:06.118Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-06-04T09:18:06.118Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-06-04T09:18:06.119Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-06-04T09:18:06.119Z] [worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: Assigning socketPath: /tmp/fire_emu_23927.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: Assigning socketPath: /tmp/fire_emu_23927.sock"}}
[debug] [2021-06-04T09:18:06.119Z] [worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: BUSY"}}
[debug] [2021-06-04T09:18:06.121Z] [worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: exited"}}
[debug] [2021-06-04T09:18:06.122Z] [worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f9ad4e5a-8e56-42bb-8601-10b25d3833b8]: FINISHED"}}
[debug] [2021-06-04T09:18:06.546Z] [runtime-status] [23927] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:18:06.548Z] [runtime-status] [23927] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:18:06.550Z] [runtime-status] [23927] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:06.550Z] [runtime-status] [23927] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:06.551Z] [runtime-status] [23927] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:06.563Z] [runtime-status] [23927] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:18:06.563Z] [runtime-status] [23927] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:06.586Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:18:06.587Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:18:06.587Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:18:06.587Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-06-04T09:18:06.596Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:18:06.596Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:18:06.596Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:18:06.596Z] [worker-us-central1-api-42c466f6-3bcd-476d-a066-6578671fd682]: Assigning socketPath: /tmp/fire_emu_23934.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-42c466f6-3bcd-476d-a066-6578671fd682]: Assigning socketPath: /tmp/fire_emu_23934.sock"}}
[debug] [2021-06-04T09:18:06.596Z] [worker-us-central1-api-42c466f6-3bcd-476d-a066-6578671fd682]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-42c466f6-3bcd-476d-a066-6578671fd682]: BUSY"}}
[debug] [2021-06-04T09:18:06.604Z] [runtime-status] [23927] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:18:06.604Z] [runtime-status] [23927] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:18:06.604Z] [runtime-status] [23927] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:06.605Z] [runtime-status] [23927] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:06.605Z] [runtime-status] [23927] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:06.605Z] [runtime-status] [23927] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23927] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:18:06.700Z] [worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: IDLE"}}
[debug] [2021-06-04T09:18:07.062Z] [runtime-status] [23934] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:18:07.065Z] [runtime-status] [23934] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:18:07.068Z] [runtime-status] [23934] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:07.070Z] [runtime-status] [23934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:07.072Z] [runtime-status] [23934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:07.076Z] [runtime-status] [23934] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:18:07.077Z] [runtime-status] [23934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:07.112Z] [runtime-status] [23934] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:18:07.112Z] [runtime-status] [23934] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:18:07.115Z] [runtime-status] [23934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:07.117Z] [runtime-status] [23934] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:07.117Z] [runtime-status] [23934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:18:07.119Z] [runtime-status] [23934] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:18:07.210Z] [runtime-status] [23934] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:18:07.211Z] [runtime-status] [23934] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:18:07.211Z] [runtime-status] [23934] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:18:07.216Z] [runtime-status] [23934] Attempting to listen to socketPath: /tmp/fire_emu_23934.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Attempting to listen to socketPath: /tmp/fire_emu_23934.sock"}}
[debug] [2021-06-04T09:18:07.219Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:18:07.220Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:18:07.234Z] [runtime-status] [23934] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:18:07.234Z] [runtime-status] [23934] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23934] Ephemeral server survived."}}
[info] >  (node:23934) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:23934) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23934) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:23934) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:23934) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23934) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:23934) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:23934) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23934) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:19:07.226Z] [worker-us-central1-api-42c466f6-3bcd-476d-a066-6578671fd682]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-42c466f6-3bcd-476d-a066-6578671fd682]: exited"}}
[debug] [2021-06-04T09:19:07.226Z] [worker-us-central1-api-42c466f6-3bcd-476d-a066-6578671fd682]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-42c466f6-3bcd-476d-a066-6578671fd682]: FINISHED"}}
[debug] [2021-06-04T09:19:07.226Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:19:23.575Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:19:23.575Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:19:23.575Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:19:23.575Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-06-04T09:19:23.581Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:19:23.581Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:19:23.581Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:19:23.582Z] [worker-us-central1-api-1d14e6ef-ba84-4301-8e6c-285cf136733b]: Assigning socketPath: /tmp/fire_emu_23985.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d14e6ef-ba84-4301-8e6c-285cf136733b]: Assigning socketPath: /tmp/fire_emu_23985.sock"}}
[debug] [2021-06-04T09:19:23.582Z] [worker-us-central1-api-1d14e6ef-ba84-4301-8e6c-285cf136733b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d14e6ef-ba84-4301-8e6c-285cf136733b]: BUSY"}}
[debug] [2021-06-04T09:19:24.026Z] [runtime-status] [23985] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:19:24.029Z] [runtime-status] [23985] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:19:24.032Z] [runtime-status] [23985] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:24.033Z] [runtime-status] [23985] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:24.034Z] [runtime-status] [23985] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:24.038Z] [runtime-status] [23985] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:19:24.039Z] [runtime-status] [23985] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:24.079Z] [runtime-status] [23985] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:19:24.079Z] [runtime-status] [23985] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:19:24.080Z] [runtime-status] [23985] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:24.081Z] [runtime-status] [23985] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:24.082Z] [runtime-status] [23985] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:24.082Z] [runtime-status] [23985] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:19:24.168Z] [runtime-status] [23985] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:19:24.170Z] [runtime-status] [23985] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:19:24.170Z] [runtime-status] [23985] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:19:24.174Z] [runtime-status] [23985] Attempting to listen to socketPath: /tmp/fire_emu_23985.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Attempting to listen to socketPath: /tmp/fire_emu_23985.sock"}}
[debug] [2021-06-04T09:19:24.177Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:19:24.177Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:19:24.183Z] [runtime-status] [23985] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:19:24.188Z] [runtime-status] [23985] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23985] Ephemeral server survived."}}
[info] >  (node:23985) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:23985) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23985) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:23985) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:23985) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23985) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:23985) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:23985) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23985) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:19:43.034Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:19:43.034Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:19:43.034Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:19:43.043Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:19:43.044Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-06-04T09:19:43.044Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:19:43.044Z] [worker-us-central1-api-fd6cc3eb-332e-4f24-afea-db5e750ea0b4]: Assigning socketPath: /tmp/fire_emu_24034.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fd6cc3eb-332e-4f24-afea-db5e750ea0b4]: Assigning socketPath: /tmp/fire_emu_24034.sock"}}
[debug] [2021-06-04T09:19:43.044Z] [worker-us-central1-api-fd6cc3eb-332e-4f24-afea-db5e750ea0b4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fd6cc3eb-332e-4f24-afea-db5e750ea0b4]: BUSY"}}
[debug] [2021-06-04T09:19:43.673Z] [runtime-status] [24034] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:19:43.675Z] [runtime-status] [24034] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:19:43.678Z] [runtime-status] [24034] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:43.680Z] [runtime-status] [24034] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:43.681Z] [runtime-status] [24034] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:43.686Z] [runtime-status] [24034] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:19:43.687Z] [runtime-status] [24034] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:43.737Z] [runtime-status] [24034] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:19:43.738Z] [runtime-status] [24034] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:19:43.740Z] [runtime-status] [24034] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:43.744Z] [runtime-status] [24034] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:43.746Z] [runtime-status] [24034] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:19:43.747Z] [runtime-status] [24034] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:19:43.866Z] [runtime-status] [24034] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:19:43.868Z] [runtime-status] [24034] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:19:43.868Z] [runtime-status] [24034] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:19:43.875Z] [runtime-status] [24034] Attempting to listen to socketPath: /tmp/fire_emu_24034.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Attempting to listen to socketPath: /tmp/fire_emu_24034.sock"}}
[debug] [2021-06-04T09:19:43.878Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:19:43.878Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:19:43.893Z] [runtime-status] [24034] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:19:43.899Z] [runtime-status] [24034] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24034] Ephemeral server survived."}}
[info] >  (node:24034) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24034) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24034) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24034) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24034) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24034) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24034) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24034) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24034) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:20:24.195Z] [worker-us-central1-api-1d14e6ef-ba84-4301-8e6c-285cf136733b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d14e6ef-ba84-4301-8e6c-285cf136733b]: exited"}}
[debug] [2021-06-04T09:20:24.195Z] [worker-us-central1-api-1d14e6ef-ba84-4301-8e6c-285cf136733b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d14e6ef-ba84-4301-8e6c-285cf136733b]: FINISHED"}}
[debug] [2021-06-04T09:20:24.195Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:20:31.296Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:20:31.296Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:20:31.296Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=5998 --> us-central1-api
[debug] [2021-06-04T09:20:31.296Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2021-06-04T09:20:31.310Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:20:31.310Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-06-04T09:20:31.310Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:20:31.310Z] [worker-us-central1-api-1328da5c-9161-47b5-9bbb-f36fca52b9c2]: Assigning socketPath: /tmp/fire_emu_24065.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1328da5c-9161-47b5-9bbb-f36fca52b9c2]: Assigning socketPath: /tmp/fire_emu_24065.sock"}}
[debug] [2021-06-04T09:20:31.310Z] [worker-us-central1-api-1328da5c-9161-47b5-9bbb-f36fca52b9c2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1328da5c-9161-47b5-9bbb-f36fca52b9c2]: BUSY"}}
[debug] [2021-06-04T09:20:31.836Z] [runtime-status] [24065] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:20:31.841Z] [runtime-status] [24065] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:20:31.846Z] [runtime-status] [24065] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:20:31.849Z] [runtime-status] [24065] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:20:31.850Z] [runtime-status] [24065] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:20:31.855Z] [runtime-status] [24065] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:20:31.861Z] [runtime-status] [24065] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:20:31.904Z] [runtime-status] [24065] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:20:31.904Z] [runtime-status] [24065] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:20:31.904Z] [runtime-status] [24065] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:20:31.907Z] [runtime-status] [24065] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:20:31.907Z] [runtime-status] [24065] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:20:31.907Z] [runtime-status] [24065] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:20:32.001Z] [runtime-status] [24065] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:20:32.011Z] [runtime-status] [24065] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:20:32.011Z] [runtime-status] [24065] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:20:32.012Z] [runtime-status] [24065] Attempting to listen to socketPath: /tmp/fire_emu_24065.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Attempting to listen to socketPath: /tmp/fire_emu_24065.sock"}}
[debug] [2021-06-04T09:20:32.012Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:20:32.012Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-06-04T09:20:32.028Z] [runtime-status] [24065] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:20:32.032Z] [runtime-status] [24065] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24065] Ephemeral server survived."}}
[info] >  (node:24065) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24065) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24065) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24065) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24065) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24065) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24065) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24065) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24065) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:20:43.884Z] [worker-us-central1-api-fd6cc3eb-332e-4f24-afea-db5e750ea0b4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fd6cc3eb-332e-4f24-afea-db5e750ea0b4]: exited"}}
[debug] [2021-06-04T09:20:43.884Z] [worker-us-central1-api-fd6cc3eb-332e-4f24-afea-db5e750ea0b4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fd6cc3eb-332e-4f24-afea-db5e750ea0b4]: FINISHED"}}
[debug] [2021-06-04T09:20:43.884Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:21:32.010Z] [worker-us-central1-api-1328da5c-9161-47b5-9bbb-f36fca52b9c2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1328da5c-9161-47b5-9bbb-f36fca52b9c2]: exited"}}
[debug] [2021-06-04T09:21:32.010Z] [worker-us-central1-api-1328da5c-9161-47b5-9bbb-f36fca52b9c2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1328da5c-9161-47b5-9bbb-f36fca52b9c2]: FINISHED"}}
[debug] [2021-06-04T09:21:32.010Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:21:35.661Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:21:35.661Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:21:35.661Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=5998 --> us-central1-api
[debug] [2021-06-04T09:21:35.661Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2021-06-04T09:21:35.670Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:21:35.671Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:21:35.671Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:21:35.671Z] [worker-us-central1-api-24d8e9d9-16e9-488e-948c-be3dd20615a2]: Assigning socketPath: /tmp/fire_emu_24092.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24d8e9d9-16e9-488e-948c-be3dd20615a2]: Assigning socketPath: /tmp/fire_emu_24092.sock"}}
[debug] [2021-06-04T09:21:35.671Z] [worker-us-central1-api-24d8e9d9-16e9-488e-948c-be3dd20615a2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24d8e9d9-16e9-488e-948c-be3dd20615a2]: BUSY"}}
[debug] [2021-06-04T09:21:36.189Z] [runtime-status] [24092] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:21:36.191Z] [runtime-status] [24092] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:21:36.193Z] [runtime-status] [24092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:21:36.195Z] [runtime-status] [24092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:21:36.197Z] [runtime-status] [24092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:21:36.201Z] [runtime-status] [24092] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:21:36.202Z] [runtime-status] [24092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:21:36.236Z] [runtime-status] [24092] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:21:36.236Z] [runtime-status] [24092] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:21:36.237Z] [runtime-status] [24092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:21:36.238Z] [runtime-status] [24092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:21:36.238Z] [runtime-status] [24092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:21:36.239Z] [runtime-status] [24092] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:21:36.329Z] [runtime-status] [24092] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:21:36.331Z] [runtime-status] [24092] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:21:36.332Z] [runtime-status] [24092] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:21:36.340Z] [runtime-status] [24092] Attempting to listen to socketPath: /tmp/fire_emu_24092.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Attempting to listen to socketPath: /tmp/fire_emu_24092.sock"}}
[debug] [2021-06-04T09:21:36.341Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:21:36.341Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-06-04T09:21:36.363Z] [runtime-status] [24092] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:21:36.371Z] [runtime-status] [24092] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24092] Ephemeral server survived."}}
[info] >  (node:24092) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24092) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24092) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:22:36.349Z] [worker-us-central1-api-24d8e9d9-16e9-488e-948c-be3dd20615a2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24d8e9d9-16e9-488e-948c-be3dd20615a2]: exited"}}
[debug] [2021-06-04T09:22:36.350Z] [worker-us-central1-api-24d8e9d9-16e9-488e-948c-be3dd20615a2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24d8e9d9-16e9-488e-948c-be3dd20615a2]: FINISHED"}}
[debug] [2021-06-04T09:22:36.350Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:39:16.834Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:39:16.834Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:39:16.834Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:39:16.834Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-06-04T09:39:16.839Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:39:16.840Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:39:16.840Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:39:16.840Z] [worker-us-central1-api-8c8ec4ce-27bc-4b4a-b212-6c2655ae8490]: Assigning socketPath: /tmp/fire_emu_24501.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8c8ec4ce-27bc-4b4a-b212-6c2655ae8490]: Assigning socketPath: /tmp/fire_emu_24501.sock"}}
[debug] [2021-06-04T09:39:16.840Z] [worker-us-central1-api-8c8ec4ce-27bc-4b4a-b212-6c2655ae8490]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8c8ec4ce-27bc-4b4a-b212-6c2655ae8490]: BUSY"}}
[debug] [2021-06-04T09:39:17.318Z] [runtime-status] [24501] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:39:17.319Z] [runtime-status] [24501] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:39:17.322Z] [runtime-status] [24501] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:39:17.322Z] [runtime-status] [24501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:39:17.323Z] [runtime-status] [24501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:39:17.327Z] [runtime-status] [24501] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:39:17.327Z] [runtime-status] [24501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:39:17.357Z] [runtime-status] [24501] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:39:17.357Z] [runtime-status] [24501] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:39:17.358Z] [runtime-status] [24501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:39:17.359Z] [runtime-status] [24501] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:39:17.359Z] [runtime-status] [24501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:39:17.359Z] [runtime-status] [24501] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:39:17.457Z] [runtime-status] [24501] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:39:17.460Z] [runtime-status] [24501] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:39:17.461Z] [runtime-status] [24501] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:39:17.470Z] [runtime-status] [24501] Attempting to listen to socketPath: /tmp/fire_emu_24501.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Attempting to listen to socketPath: /tmp/fire_emu_24501.sock"}}
[debug] [2021-06-04T09:39:17.471Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:39:17.471Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:39:17.492Z] [runtime-status] [24501] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:39:17.504Z] [runtime-status] [24501] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24501] Ephemeral server survived."}}
[info] >  (node:24501) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24501) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24501) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24501) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24501) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24501) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24501) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24501) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24501) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:40:17.463Z] [worker-us-central1-api-8c8ec4ce-27bc-4b4a-b212-6c2655ae8490]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8c8ec4ce-27bc-4b4a-b212-6c2655ae8490]: exited"}}
[debug] [2021-06-04T09:40:17.463Z] [worker-us-central1-api-8c8ec4ce-27bc-4b4a-b212-6c2655ae8490]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8c8ec4ce-27bc-4b4a-b212-6c2655ae8490]: FINISHED"}}
[debug] [2021-06-04T09:40:17.463Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:40:43.677Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:40:43.677Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:40:43.678Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:40:43.678Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-06-04T09:40:43.687Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:40:43.687Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:40:43.687Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:40:43.687Z] [worker-us-central1-api-5d530af7-a55c-4b34-a30d-d17fe3c3d152]: Assigning socketPath: /tmp/fire_emu_24564.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d530af7-a55c-4b34-a30d-d17fe3c3d152]: Assigning socketPath: /tmp/fire_emu_24564.sock"}}
[debug] [2021-06-04T09:40:43.687Z] [worker-us-central1-api-5d530af7-a55c-4b34-a30d-d17fe3c3d152]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d530af7-a55c-4b34-a30d-d17fe3c3d152]: BUSY"}}
[debug] [2021-06-04T09:40:44.190Z] [runtime-status] [24564] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:40:44.193Z] [runtime-status] [24564] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:40:44.195Z] [runtime-status] [24564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:44.197Z] [runtime-status] [24564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:44.199Z] [runtime-status] [24564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:44.204Z] [runtime-status] [24564] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:40:44.205Z] [runtime-status] [24564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:44.241Z] [runtime-status] [24564] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:40:44.242Z] [runtime-status] [24564] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:40:44.243Z] [runtime-status] [24564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:44.244Z] [runtime-status] [24564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:44.245Z] [runtime-status] [24564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:44.245Z] [runtime-status] [24564] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:40:44.360Z] [runtime-status] [24564] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:40:44.361Z] [runtime-status] [24564] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:40:44.362Z] [runtime-status] [24564] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:40:44.368Z] [runtime-status] [24564] Attempting to listen to socketPath: /tmp/fire_emu_24564.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Attempting to listen to socketPath: /tmp/fire_emu_24564.sock"}}
[debug] [2021-06-04T09:40:44.372Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:40:44.372Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:40:44.378Z] [runtime-status] [24564] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:40:44.384Z] [runtime-status] [24564] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24564] Ephemeral server survived."}}
[info] >  (node:24564) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24564) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24564) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24564) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24564) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:40:46.809Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:40:46.809Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:40:46.809Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:40:46.816Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:40:46.816Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-06-04T09:40:46.816Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:40:46.816Z] [worker-us-central1-api-516e22b7-29d3-4b7d-9e5c-f3ad7d652676]: Assigning socketPath: /tmp/fire_emu_24581.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-516e22b7-29d3-4b7d-9e5c-f3ad7d652676]: Assigning socketPath: /tmp/fire_emu_24581.sock"}}
[debug] [2021-06-04T09:40:46.817Z] [worker-us-central1-api-516e22b7-29d3-4b7d-9e5c-f3ad7d652676]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-516e22b7-29d3-4b7d-9e5c-f3ad7d652676]: BUSY"}}
[debug] [2021-06-04T09:40:47.372Z] [runtime-status] [24581] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:40:47.375Z] [runtime-status] [24581] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:40:47.379Z] [runtime-status] [24581] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:47.383Z] [runtime-status] [24581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:47.384Z] [runtime-status] [24581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:47.390Z] [runtime-status] [24581] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:40:47.391Z] [runtime-status] [24581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:47.438Z] [runtime-status] [24581] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:40:47.438Z] [runtime-status] [24581] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:40:47.440Z] [runtime-status] [24581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:47.440Z] [runtime-status] [24581] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:47.441Z] [runtime-status] [24581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:40:47.441Z] [runtime-status] [24581] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:40:47.575Z] [runtime-status] [24581] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:40:47.575Z] [runtime-status] [24581] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:40:47.575Z] [runtime-status] [24581] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:40:47.587Z] [runtime-status] [24581] Attempting to listen to socketPath: /tmp/fire_emu_24581.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Attempting to listen to socketPath: /tmp/fire_emu_24581.sock"}}
[debug] [2021-06-04T09:40:47.590Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:40:47.591Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:40:47.599Z] [runtime-status] [24581] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:40:47.604Z] [runtime-status] [24581] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24581] Ephemeral server survived."}}
[info] >  (node:24581) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24581) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24581) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24581) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24581) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24581) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24581) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24581) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24581) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:41:44.380Z] [worker-us-central1-api-5d530af7-a55c-4b34-a30d-d17fe3c3d152]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d530af7-a55c-4b34-a30d-d17fe3c3d152]: exited"}}
[debug] [2021-06-04T09:41:44.380Z] [worker-us-central1-api-5d530af7-a55c-4b34-a30d-d17fe3c3d152]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5d530af7-a55c-4b34-a30d-d17fe3c3d152]: FINISHED"}}
[debug] [2021-06-04T09:41:44.380Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:41:47.608Z] [worker-us-central1-api-516e22b7-29d3-4b7d-9e5c-f3ad7d652676]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-516e22b7-29d3-4b7d-9e5c-f3ad7d652676]: exited"}}
[debug] [2021-06-04T09:41:47.608Z] [worker-us-central1-api-516e22b7-29d3-4b7d-9e5c-f3ad7d652676]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-516e22b7-29d3-4b7d-9e5c-f3ad7d652676]: FINISHED"}}
[debug] [2021-06-04T09:41:47.610Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:42:09.742Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:42:09.742Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:42:09.742Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=119960 --> us-central1-api
[debug] [2021-06-04T09:42:09.743Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2021-06-04T09:42:09.751Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:42:09.751Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:42:09.751Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:42:09.751Z] [worker-us-central1-api-d867aa07-f26e-474b-af0e-b808aebce82b]: Assigning socketPath: /tmp/fire_emu_24675.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d867aa07-f26e-474b-af0e-b808aebce82b]: Assigning socketPath: /tmp/fire_emu_24675.sock"}}
[debug] [2021-06-04T09:42:09.751Z] [worker-us-central1-api-d867aa07-f26e-474b-af0e-b808aebce82b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d867aa07-f26e-474b-af0e-b808aebce82b]: BUSY"}}
[debug] [2021-06-04T09:42:10.221Z] [runtime-status] [24675] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:42:10.223Z] [runtime-status] [24675] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:42:10.225Z] [runtime-status] [24675] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:10.226Z] [runtime-status] [24675] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:10.227Z] [runtime-status] [24675] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:10.231Z] [runtime-status] [24675] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:42:10.232Z] [runtime-status] [24675] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:10.265Z] [runtime-status] [24675] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:42:10.265Z] [runtime-status] [24675] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:42:10.265Z] [runtime-status] [24675] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:10.266Z] [runtime-status] [24675] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:10.267Z] [runtime-status] [24675] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:10.267Z] [runtime-status] [24675] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:42:10.354Z] [runtime-status] [24675] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:42:10.354Z] [runtime-status] [24675] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:42:10.355Z] [runtime-status] [24675] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:42:10.360Z] [runtime-status] [24675] Attempting to listen to socketPath: /tmp/fire_emu_24675.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Attempting to listen to socketPath: /tmp/fire_emu_24675.sock"}}
[debug] [2021-06-04T09:42:10.361Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:42:10.361Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=119960, mapping to path=/payments/create?total=119960 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=119960, mapping to path=/payments/create?total=119960"}}
[debug] [2021-06-04T09:42:10.370Z] [runtime-status] [24675] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:42:10.373Z] [runtime-status] [24675] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24675] Ephemeral server survived."}}
[info] >  (node:24675) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24675) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24675) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24675) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24675) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24675) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24675) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24675) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24675) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:42:21.929Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:42:21.929Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:42:21.929Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=11996 --> us-central1-api
[debug] [2021-06-04T09:42:21.936Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:42:21.936Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-06-04T09:42:21.936Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:42:21.936Z] [worker-us-central1-api-9148811b-0711-4a2a-ad25-960d7b42c328]: Assigning socketPath: /tmp/fire_emu_24692.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9148811b-0711-4a2a-ad25-960d7b42c328]: Assigning socketPath: /tmp/fire_emu_24692.sock"}}
[debug] [2021-06-04T09:42:21.936Z] [worker-us-central1-api-9148811b-0711-4a2a-ad25-960d7b42c328]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9148811b-0711-4a2a-ad25-960d7b42c328]: BUSY"}}
[debug] [2021-06-04T09:42:22.399Z] [runtime-status] [24692] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:42:22.401Z] [runtime-status] [24692] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:42:22.403Z] [runtime-status] [24692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:22.404Z] [runtime-status] [24692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:22.405Z] [runtime-status] [24692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:22.409Z] [runtime-status] [24692] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:42:22.409Z] [runtime-status] [24692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:22.440Z] [runtime-status] [24692] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:42:22.441Z] [runtime-status] [24692] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:42:22.441Z] [runtime-status] [24692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:22.442Z] [runtime-status] [24692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:22.442Z] [runtime-status] [24692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:42:22.442Z] [runtime-status] [24692] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:42:22.526Z] [runtime-status] [24692] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:42:22.528Z] [runtime-status] [24692] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:42:22.529Z] [runtime-status] [24692] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:42:22.532Z] [runtime-status] [24692] Attempting to listen to socketPath: /tmp/fire_emu_24692.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Attempting to listen to socketPath: /tmp/fire_emu_24692.sock"}}
[debug] [2021-06-04T09:42:22.535Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:42:22.537Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996"}}
[debug] [2021-06-04T09:42:22.544Z] [runtime-status] [24692] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:42:22.549Z] [runtime-status] [24692] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24692] Ephemeral server survived."}}
[info] >  (node:24692) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24692) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24692) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24692) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24692) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24692) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24692) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24692) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24692) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:43:06.922Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-06-04T09:43:06.923Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-06-04T09:43:06.923Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=11996 --> us-central1-api
[debug] [2021-06-04T09:43:06.928Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:43:06.929Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-06-04T09:43:06.929Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:43:06.929Z] [worker-us-central1-api-db4fbd35-ddd2-4d8a-9b5b-ba6bc35e0e4e]: Assigning socketPath: /tmp/fire_emu_24716.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-db4fbd35-ddd2-4d8a-9b5b-ba6bc35e0e4e]: Assigning socketPath: /tmp/fire_emu_24716.sock"}}
[debug] [2021-06-04T09:43:06.929Z] [worker-us-central1-api-db4fbd35-ddd2-4d8a-9b5b-ba6bc35e0e4e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-db4fbd35-ddd2-4d8a-9b5b-ba6bc35e0e4e]: BUSY"}}
[debug] [2021-06-04T09:43:07.491Z] [runtime-status] [24716] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:43:07.495Z] [runtime-status] [24716] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:43:07.499Z] [runtime-status] [24716] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:07.500Z] [runtime-status] [24716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:07.501Z] [runtime-status] [24716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:07.506Z] [runtime-status] [24716] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:43:07.506Z] [runtime-status] [24716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:07.563Z] [runtime-status] [24716] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:43:07.563Z] [runtime-status] [24716] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:43:07.563Z] [runtime-status] [24716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:07.564Z] [runtime-status] [24716] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:07.564Z] [runtime-status] [24716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:07.564Z] [runtime-status] [24716] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:43:07.675Z] [runtime-status] [24716] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:43:07.676Z] [runtime-status] [24716] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:43:07.676Z] [runtime-status] [24716] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:43:07.679Z] [runtime-status] [24716] Attempting to listen to socketPath: /tmp/fire_emu_24716.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Attempting to listen to socketPath: /tmp/fire_emu_24716.sock"}}
[debug] [2021-06-04T09:43:07.683Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:43:07.683Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996"}}
[debug] [2021-06-04T09:43:07.693Z] [runtime-status] [24716] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:43:07.701Z] [runtime-status] [24716] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24716] Ephemeral server survived."}}
[info] >  (node:24716) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24716) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24716) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24716) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24716) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24716) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24716) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24716) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24716) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:43:10.376Z] [worker-us-central1-api-d867aa07-f26e-474b-af0e-b808aebce82b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d867aa07-f26e-474b-af0e-b808aebce82b]: exited"}}
[debug] [2021-06-04T09:43:10.376Z] [worker-us-central1-api-d867aa07-f26e-474b-af0e-b808aebce82b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d867aa07-f26e-474b-af0e-b808aebce82b]: FINISHED"}}
[debug] [2021-06-04T09:43:10.377Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:43:22.537Z] [worker-us-central1-api-9148811b-0711-4a2a-ad25-960d7b42c328]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9148811b-0711-4a2a-ad25-960d7b42c328]: exited"}}
[debug] [2021-06-04T09:43:22.537Z] [worker-us-central1-api-9148811b-0711-4a2a-ad25-960d7b42c328]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9148811b-0711-4a2a-ad25-960d7b42c328]: FINISHED"}}
[debug] [2021-06-04T09:43:22.540Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:43:52.004Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:43:52.004Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:43:52.004Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:43:52.004Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 1"}}
[debug] [2021-06-04T09:43:52.014Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:43:52.014Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-06-04T09:43:52.014Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:43:52.014Z] [worker-us-central1-api-e8839c97-082f-457d-b19b-b6da3f8a9c57]: Assigning socketPath: /tmp/fire_emu_24767.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8839c97-082f-457d-b19b-b6da3f8a9c57]: Assigning socketPath: /tmp/fire_emu_24767.sock"}}
[debug] [2021-06-04T09:43:52.014Z] [worker-us-central1-api-e8839c97-082f-457d-b19b-b6da3f8a9c57]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8839c97-082f-457d-b19b-b6da3f8a9c57]: BUSY"}}
[debug] [2021-06-04T09:43:52.579Z] [runtime-status] [24767] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:43:52.582Z] [runtime-status] [24767] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:43:52.586Z] [runtime-status] [24767] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:52.589Z] [runtime-status] [24767] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:52.594Z] [runtime-status] [24767] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:52.600Z] [runtime-status] [24767] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:43:52.602Z] [runtime-status] [24767] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:52.642Z] [runtime-status] [24767] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:43:52.644Z] [runtime-status] [24767] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:43:52.645Z] [runtime-status] [24767] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:52.647Z] [runtime-status] [24767] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:52.649Z] [runtime-status] [24767] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:52.651Z] [runtime-status] [24767] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:43:52.754Z] [runtime-status] [24767] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:43:52.755Z] [runtime-status] [24767] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:43:52.755Z] [runtime-status] [24767] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:43:52.760Z] [runtime-status] [24767] Attempting to listen to socketPath: /tmp/fire_emu_24767.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Attempting to listen to socketPath: /tmp/fire_emu_24767.sock"}}
[debug] [2021-06-04T09:43:52.764Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:43:52.764Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:43:52.773Z] [runtime-status] [24767] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:43:52.778Z] [runtime-status] [24767] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24767] Ephemeral server survived."}}
[info] >  (node:24767) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24767) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24767) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24767) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24767) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24767) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24767) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24767) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24767) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:43:58.632Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-06-04T09:43:58.632Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-06-04T09:43:58.632Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=11996 --> us-central1-api
[debug] [2021-06-04T09:43:58.640Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:43:58.640Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-06-04T09:43:58.640Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:43:58.640Z] [worker-us-central1-api-81e10010-0654-4daa-aa9d-a3b0f7d2df72]: Assigning socketPath: /tmp/fire_emu_24777.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-81e10010-0654-4daa-aa9d-a3b0f7d2df72]: Assigning socketPath: /tmp/fire_emu_24777.sock"}}
[debug] [2021-06-04T09:43:58.640Z] [worker-us-central1-api-81e10010-0654-4daa-aa9d-a3b0f7d2df72]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-81e10010-0654-4daa-aa9d-a3b0f7d2df72]: BUSY"}}
[debug] [2021-06-04T09:43:59.122Z] [runtime-status] [24777] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:43:59.123Z] [runtime-status] [24777] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:43:59.129Z] [runtime-status] [24777] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:59.130Z] [runtime-status] [24777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:59.130Z] [runtime-status] [24777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:59.133Z] [runtime-status] [24777] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:43:59.133Z] [runtime-status] [24777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:59.177Z] [runtime-status] [24777] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:43:59.177Z] [runtime-status] [24777] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:43:59.178Z] [runtime-status] [24777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:59.180Z] [runtime-status] [24777] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:59.181Z] [runtime-status] [24777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:43:59.181Z] [runtime-status] [24777] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:43:59.277Z] [runtime-status] [24777] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:43:59.278Z] [runtime-status] [24777] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:43:59.278Z] [runtime-status] [24777] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:43:59.281Z] [runtime-status] [24777] Attempting to listen to socketPath: /tmp/fire_emu_24777.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Attempting to listen to socketPath: /tmp/fire_emu_24777.sock"}}
[debug] [2021-06-04T09:43:59.283Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:43:59.284Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996"}}
[debug] [2021-06-04T09:43:59.290Z] [runtime-status] [24777] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:43:59.293Z] [runtime-status] [24777] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24777] Ephemeral server survived."}}
[info] >  (node:24777) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24777) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24777) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24777) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24777) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24777) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24777) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24777) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24777) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:44:07.704Z] [worker-us-central1-api-db4fbd35-ddd2-4d8a-9b5b-ba6bc35e0e4e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-db4fbd35-ddd2-4d8a-9b5b-ba6bc35e0e4e]: exited"}}
[debug] [2021-06-04T09:44:07.704Z] [worker-us-central1-api-db4fbd35-ddd2-4d8a-9b5b-ba6bc35e0e4e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-db4fbd35-ddd2-4d8a-9b5b-ba6bc35e0e4e]: FINISHED"}}
[debug] [2021-06-04T09:44:07.705Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:44:52.837Z] [worker-us-central1-api-e8839c97-082f-457d-b19b-b6da3f8a9c57]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8839c97-082f-457d-b19b-b6da3f8a9c57]: exited"}}
[debug] [2021-06-04T09:44:52.837Z] [worker-us-central1-api-e8839c97-082f-457d-b19b-b6da3f8a9c57]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8839c97-082f-457d-b19b-b6da3f8a9c57]: FINISHED"}}
[debug] [2021-06-04T09:44:52.837Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:44:59.302Z] [worker-us-central1-api-81e10010-0654-4daa-aa9d-a3b0f7d2df72]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-81e10010-0654-4daa-aa9d-a3b0f7d2df72]: exited"}}
[debug] [2021-06-04T09:44:59.302Z] [worker-us-central1-api-81e10010-0654-4daa-aa9d-a3b0f7d2df72]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-81e10010-0654-4daa-aa9d-a3b0f7d2df72]: FINISHED"}}
[debug] [2021-06-04T09:44:59.302Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:47:20.704Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:47:20.704Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:47:20.704Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=11996 --> us-central1-api
[debug] [2021-06-04T09:47:20.704Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 0"}}
[debug] [2021-06-04T09:47:20.717Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:47:20.718Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:47:20.718Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:47:20.718Z] [worker-us-central1-api-518c7ba7-9906-4d59-b274-586a28033bb6]: Assigning socketPath: /tmp/fire_emu_24855.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-518c7ba7-9906-4d59-b274-586a28033bb6]: Assigning socketPath: /tmp/fire_emu_24855.sock"}}
[debug] [2021-06-04T09:47:20.718Z] [worker-us-central1-api-518c7ba7-9906-4d59-b274-586a28033bb6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-518c7ba7-9906-4d59-b274-586a28033bb6]: BUSY"}}
[debug] [2021-06-04T09:47:21.196Z] [runtime-status] [24855] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:47:21.198Z] [runtime-status] [24855] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:47:21.200Z] [runtime-status] [24855] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:47:21.201Z] [runtime-status] [24855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:47:21.202Z] [runtime-status] [24855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:47:21.205Z] [runtime-status] [24855] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:47:21.206Z] [runtime-status] [24855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:47:21.242Z] [runtime-status] [24855] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:47:21.243Z] [runtime-status] [24855] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:47:21.243Z] [runtime-status] [24855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:47:21.245Z] [runtime-status] [24855] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:47:21.246Z] [runtime-status] [24855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:47:21.246Z] [runtime-status] [24855] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:47:21.335Z] [runtime-status] [24855] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:47:21.339Z] [runtime-status] [24855] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:47:21.340Z] [runtime-status] [24855] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:47:21.345Z] [runtime-status] [24855] Attempting to listen to socketPath: /tmp/fire_emu_24855.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Attempting to listen to socketPath: /tmp/fire_emu_24855.sock"}}
[debug] [2021-06-04T09:47:21.348Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:47:21.348Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996"}}
[debug] [2021-06-04T09:47:21.361Z] [runtime-status] [24855] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:47:21.365Z] [runtime-status] [24855] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24855] Ephemeral server survived."}}
[info] >  (node:24855) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24855) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24855) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:48:21.355Z] [worker-us-central1-api-518c7ba7-9906-4d59-b274-586a28033bb6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-518c7ba7-9906-4d59-b274-586a28033bb6]: exited"}}
[debug] [2021-06-04T09:48:21.355Z] [worker-us-central1-api-518c7ba7-9906-4d59-b274-586a28033bb6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-518c7ba7-9906-4d59-b274-586a28033bb6]: FINISHED"}}
[debug] [2021-06-04T09:48:21.355Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:48:52.317Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:48:52.317Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:48:52.317Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:48:52.317Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-06-04T09:48:52.323Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:48:52.324Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:48:52.324Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:48:52.324Z] [worker-us-central1-api-4bcd9f9c-8323-4001-9b5a-96fe1649f2ef]: Assigning socketPath: /tmp/fire_emu_24906.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4bcd9f9c-8323-4001-9b5a-96fe1649f2ef]: Assigning socketPath: /tmp/fire_emu_24906.sock"}}
[debug] [2021-06-04T09:48:52.324Z] [worker-us-central1-api-4bcd9f9c-8323-4001-9b5a-96fe1649f2ef]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4bcd9f9c-8323-4001-9b5a-96fe1649f2ef]: BUSY"}}
[debug] [2021-06-04T09:48:52.900Z] [runtime-status] [24906] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:48:52.902Z] [runtime-status] [24906] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:48:52.904Z] [runtime-status] [24906] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:52.905Z] [runtime-status] [24906] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:52.906Z] [runtime-status] [24906] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:52.910Z] [runtime-status] [24906] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:48:52.910Z] [runtime-status] [24906] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:52.949Z] [runtime-status] [24906] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:48:52.949Z] [runtime-status] [24906] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:48:52.949Z] [runtime-status] [24906] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:52.950Z] [runtime-status] [24906] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:52.951Z] [runtime-status] [24906] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:52.951Z] [runtime-status] [24906] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:48:53.034Z] [runtime-status] [24906] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:48:53.034Z] [runtime-status] [24906] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:48:53.034Z] [runtime-status] [24906] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:48:53.038Z] [runtime-status] [24906] Attempting to listen to socketPath: /tmp/fire_emu_24906.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Attempting to listen to socketPath: /tmp/fire_emu_24906.sock"}}
[debug] [2021-06-04T09:48:53.043Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:48:53.043Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:48:53.062Z] [runtime-status] [24906] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:48:53.066Z] [runtime-status] [24906] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24906] Ephemeral server survived."}}
[info] >  (node:24906) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24906) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24906) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24906) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24906) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24906) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24906) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24906) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24906) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:48:57.754Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:48:57.755Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:48:57.755Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:48:57.768Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:48:57.769Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-06-04T09:48:57.769Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:48:57.769Z] [worker-us-central1-api-722b0042-59bc-427b-a961-031c1e4d2503]: Assigning socketPath: /tmp/fire_emu_24925.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-722b0042-59bc-427b-a961-031c1e4d2503]: Assigning socketPath: /tmp/fire_emu_24925.sock"}}
[debug] [2021-06-04T09:48:57.772Z] [worker-us-central1-api-722b0042-59bc-427b-a961-031c1e4d2503]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-722b0042-59bc-427b-a961-031c1e4d2503]: BUSY"}}
[debug] [2021-06-04T09:48:58.433Z] [runtime-status] [24925] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:48:58.435Z] [runtime-status] [24925] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:48:58.437Z] [runtime-status] [24925] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:58.440Z] [runtime-status] [24925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:58.441Z] [runtime-status] [24925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:58.444Z] [runtime-status] [24925] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:48:58.447Z] [runtime-status] [24925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:58.483Z] [runtime-status] [24925] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:48:58.483Z] [runtime-status] [24925] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:48:58.483Z] [runtime-status] [24925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:58.484Z] [runtime-status] [24925] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:58.484Z] [runtime-status] [24925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:48:58.484Z] [runtime-status] [24925] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:48:58.601Z] [runtime-status] [24925] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:48:58.602Z] [runtime-status] [24925] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:48:58.602Z] [runtime-status] [24925] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:48:58.610Z] [runtime-status] [24925] Attempting to listen to socketPath: /tmp/fire_emu_24925.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Attempting to listen to socketPath: /tmp/fire_emu_24925.sock"}}
[debug] [2021-06-04T09:48:58.613Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:48:58.614Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:48:58.630Z] [runtime-status] [24925] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:48:58.638Z] [runtime-status] [24925] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24925] Ephemeral server survived."}}
[info] >  (node:24925) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24925) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24925) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24925) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24925) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24925) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24925) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24925) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24925) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:49:03.162Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-06-04T09:49:03.162Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-06-04T09:49:03.162Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=8997 --> us-central1-api
[debug] [2021-06-04T09:49:03.170Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:49:03.170Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-06-04T09:49:03.170Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:49:03.170Z] [worker-us-central1-api-fbd510f7-c44f-49f7-b86a-4834780c1b65]: Assigning socketPath: /tmp/fire_emu_24936.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fbd510f7-c44f-49f7-b86a-4834780c1b65]: Assigning socketPath: /tmp/fire_emu_24936.sock"}}
[debug] [2021-06-04T09:49:03.170Z] [worker-us-central1-api-fbd510f7-c44f-49f7-b86a-4834780c1b65]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fbd510f7-c44f-49f7-b86a-4834780c1b65]: BUSY"}}
[debug] [2021-06-04T09:49:03.663Z] [runtime-status] [24936] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:49:03.665Z] [runtime-status] [24936] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:49:03.667Z] [runtime-status] [24936] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:49:03.668Z] [runtime-status] [24936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:49:03.671Z] [runtime-status] [24936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:49:03.674Z] [runtime-status] [24936] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:49:03.675Z] [runtime-status] [24936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:49:03.705Z] [runtime-status] [24936] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:49:03.706Z] [runtime-status] [24936] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:49:03.706Z] [runtime-status] [24936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:49:03.706Z] [runtime-status] [24936] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:49:03.708Z] [runtime-status] [24936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:49:03.709Z] [runtime-status] [24936] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:49:03.795Z] [runtime-status] [24936] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:49:03.797Z] [runtime-status] [24936] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:49:03.797Z] [runtime-status] [24936] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:49:03.803Z] [runtime-status] [24936] Attempting to listen to socketPath: /tmp/fire_emu_24936.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Attempting to listen to socketPath: /tmp/fire_emu_24936.sock"}}
[debug] [2021-06-04T09:49:03.803Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:49:03.804Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-06-04T09:49:03.816Z] [runtime-status] [24936] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:49:03.821Z] [runtime-status] [24936] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24936] Ephemeral server survived."}}
[info] >  (node:24936) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:24936) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24936) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:24936) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:24936) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24936) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:24936) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24936) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24936) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:49:53.045Z] [worker-us-central1-api-4bcd9f9c-8323-4001-9b5a-96fe1649f2ef]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4bcd9f9c-8323-4001-9b5a-96fe1649f2ef]: exited"}}
[debug] [2021-06-04T09:49:53.046Z] [worker-us-central1-api-4bcd9f9c-8323-4001-9b5a-96fe1649f2ef]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4bcd9f9c-8323-4001-9b5a-96fe1649f2ef]: FINISHED"}}
[debug] [2021-06-04T09:49:53.046Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:49:58.615Z] [worker-us-central1-api-722b0042-59bc-427b-a961-031c1e4d2503]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-722b0042-59bc-427b-a961-031c1e4d2503]: exited"}}
[debug] [2021-06-04T09:49:58.615Z] [worker-us-central1-api-722b0042-59bc-427b-a961-031c1e4d2503]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-722b0042-59bc-427b-a961-031c1e4d2503]: FINISHED"}}
[debug] [2021-06-04T09:49:58.616Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:50:03.804Z] [worker-us-central1-api-fbd510f7-c44f-49f7-b86a-4834780c1b65]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fbd510f7-c44f-49f7-b86a-4834780c1b65]: exited"}}
[debug] [2021-06-04T09:50:03.804Z] [worker-us-central1-api-fbd510f7-c44f-49f7-b86a-4834780c1b65]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fbd510f7-c44f-49f7-b86a-4834780c1b65]: FINISHED"}}
[debug] [2021-06-04T09:50:03.804Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:50:04.868Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:50:04.869Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:50:04.869Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=8997 --> us-central1-api
[debug] [2021-06-04T09:50:04.869Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 0"}}
[debug] [2021-06-04T09:50:04.879Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:50:04.879Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:50:04.879Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:50:04.880Z] [worker-us-central1-api-edab7d2e-d2d1-4499-b46d-7d6c12147111]: Assigning socketPath: /tmp/fire_emu_25007.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-edab7d2e-d2d1-4499-b46d-7d6c12147111]: Assigning socketPath: /tmp/fire_emu_25007.sock"}}
[debug] [2021-06-04T09:50:04.880Z] [worker-us-central1-api-edab7d2e-d2d1-4499-b46d-7d6c12147111]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-edab7d2e-d2d1-4499-b46d-7d6c12147111]: BUSY"}}
[debug] [2021-06-04T09:50:05.518Z] [runtime-status] [25007] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:50:05.520Z] [runtime-status] [25007] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:50:05.522Z] [runtime-status] [25007] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:05.524Z] [runtime-status] [25007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:05.524Z] [runtime-status] [25007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:05.529Z] [runtime-status] [25007] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:50:05.530Z] [runtime-status] [25007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:05.575Z] [runtime-status] [25007] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:50:05.575Z] [runtime-status] [25007] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:50:05.576Z] [runtime-status] [25007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:05.576Z] [runtime-status] [25007] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:05.576Z] [runtime-status] [25007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:05.576Z] [runtime-status] [25007] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:50:05.684Z] [runtime-status] [25007] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:50:05.684Z] [runtime-status] [25007] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:50:05.684Z] [runtime-status] [25007] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:50:05.689Z] [runtime-status] [25007] Attempting to listen to socketPath: /tmp/fire_emu_25007.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Attempting to listen to socketPath: /tmp/fire_emu_25007.sock"}}
[debug] [2021-06-04T09:50:05.693Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:50:05.693Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-06-04T09:50:05.702Z] [runtime-status] [25007] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:50:05.706Z] [runtime-status] [25007] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25007] Ephemeral server survived."}}
[info] >  (node:25007) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:25007) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25007) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:25007) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:25007) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25007) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:25007) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:25007) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25007) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:50:05.731Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:50:05.731Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:50:05.731Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:50:05.747Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:50:05.747Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-06-04T09:50:05.747Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:50:05.748Z] [worker-us-central1-api-afac86a1-ea40-44bf-90d8-7b5d2b35176e]: Assigning socketPath: /tmp/fire_emu_25017.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afac86a1-ea40-44bf-90d8-7b5d2b35176e]: Assigning socketPath: /tmp/fire_emu_25017.sock"}}
[debug] [2021-06-04T09:50:05.748Z] [worker-us-central1-api-afac86a1-ea40-44bf-90d8-7b5d2b35176e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afac86a1-ea40-44bf-90d8-7b5d2b35176e]: BUSY"}}
[debug] [2021-06-04T09:50:06.421Z] [runtime-status] [25017] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:50:06.424Z] [runtime-status] [25017] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:50:06.431Z] [runtime-status] [25017] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:06.432Z] [runtime-status] [25017] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:06.434Z] [runtime-status] [25017] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:06.439Z] [runtime-status] [25017] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:50:06.441Z] [runtime-status] [25017] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:06.502Z] [runtime-status] [25017] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:50:06.502Z] [runtime-status] [25017] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:50:06.503Z] [runtime-status] [25017] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:06.504Z] [runtime-status] [25017] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:06.505Z] [runtime-status] [25017] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:06.505Z] [runtime-status] [25017] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:50:06.641Z] [runtime-status] [25017] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:50:06.642Z] [runtime-status] [25017] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:50:06.642Z] [runtime-status] [25017] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:50:06.647Z] [runtime-status] [25017] Attempting to listen to socketPath: /tmp/fire_emu_25017.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Attempting to listen to socketPath: /tmp/fire_emu_25017.sock"}}
[debug] [2021-06-04T09:50:06.653Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:50:06.653Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:50:06.665Z] [runtime-status] [25017] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:50:06.670Z] [runtime-status] [25017] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25017] Ephemeral server survived."}}
[info] >  (node:25017) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:25017) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25017) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:25017) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:25017) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25017) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:25017) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:25017) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25017) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:50:13.222Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-06-04T09:50:13.222Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-06-04T09:50:13.222Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=17994 --> us-central1-api
[debug] [2021-06-04T09:50:13.228Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:50:13.228Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-06-04T09:50:13.228Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:50:13.228Z] [worker-us-central1-api-8c637140-d024-4a7a-b713-af11e8a7000d]: Assigning socketPath: /tmp/fire_emu_25029.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8c637140-d024-4a7a-b713-af11e8a7000d]: Assigning socketPath: /tmp/fire_emu_25029.sock"}}
[debug] [2021-06-04T09:50:13.228Z] [worker-us-central1-api-8c637140-d024-4a7a-b713-af11e8a7000d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8c637140-d024-4a7a-b713-af11e8a7000d]: BUSY"}}
[debug] [2021-06-04T09:50:13.710Z] [runtime-status] [25029] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:50:13.711Z] [runtime-status] [25029] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:50:13.713Z] [runtime-status] [25029] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:13.714Z] [runtime-status] [25029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:13.715Z] [runtime-status] [25029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:13.719Z] [runtime-status] [25029] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:50:13.719Z] [runtime-status] [25029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:13.750Z] [runtime-status] [25029] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:50:13.750Z] [runtime-status] [25029] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:50:13.751Z] [runtime-status] [25029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:13.752Z] [runtime-status] [25029] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:13.753Z] [runtime-status] [25029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:50:13.755Z] [runtime-status] [25029] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:50:13.838Z] [runtime-status] [25029] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:50:13.839Z] [runtime-status] [25029] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:50:13.839Z] [runtime-status] [25029] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:50:13.847Z] [runtime-status] [25029] Attempting to listen to socketPath: /tmp/fire_emu_25029.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Attempting to listen to socketPath: /tmp/fire_emu_25029.sock"}}
[debug] [2021-06-04T09:50:13.847Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:50:13.847Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=17994, mapping to path=/payments/create?total=17994 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=17994, mapping to path=/payments/create?total=17994"}}
[debug] [2021-06-04T09:50:13.861Z] [runtime-status] [25029] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Ephemeral server handling POST request"}}
[debug] [2021-06-04T09:50:13.864Z] [runtime-status] [25029] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25029] Ephemeral server survived."}}
[info] >  (node:25029) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:25029) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25029) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:21:19)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:25029) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:25029) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25029) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:25029) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:25029) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25029) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:51:05.706Z] [worker-us-central1-api-edab7d2e-d2d1-4499-b46d-7d6c12147111]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-edab7d2e-d2d1-4499-b46d-7d6c12147111]: exited"}}
[debug] [2021-06-04T09:51:05.706Z] [worker-us-central1-api-edab7d2e-d2d1-4499-b46d-7d6c12147111]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-edab7d2e-d2d1-4499-b46d-7d6c12147111]: FINISHED"}}
[debug] [2021-06-04T09:51:05.706Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:51:06.661Z] [worker-us-central1-api-afac86a1-ea40-44bf-90d8-7b5d2b35176e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afac86a1-ea40-44bf-90d8-7b5d2b35176e]: exited"}}
[debug] [2021-06-04T09:51:06.661Z] [worker-us-central1-api-afac86a1-ea40-44bf-90d8-7b5d2b35176e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afac86a1-ea40-44bf-90d8-7b5d2b35176e]: FINISHED"}}
[debug] [2021-06-04T09:51:06.661Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:51:13.858Z] [worker-us-central1-api-8c637140-d024-4a7a-b713-af11e8a7000d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8c637140-d024-4a7a-b713-af11e8a7000d]: exited"}}
[debug] [2021-06-04T09:51:13.858Z] [worker-us-central1-api-8c637140-d024-4a7a-b713-af11e8a7000d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8c637140-d024-4a7a-b713-af11e8a7000d]: FINISHED"}}
[debug] [2021-06-04T09:51:13.858Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:51:37.796Z] File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers"}}
[debug] [2021-06-04T09:51:38.797Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-06-04T09:51:38.797Z] [worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: FINISHING"}}
[debug] [2021-06-04T09:51:38.798Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 0"}}
[debug] [2021-06-04T09:51:38.808Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-06-04T09:51:38.809Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-06-04T09:51:38.809Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-06-04T09:51:38.809Z] [worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: Assigning socketPath: /tmp/fire_emu_25077.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: Assigning socketPath: /tmp/fire_emu_25077.sock"}}
[debug] [2021-06-04T09:51:38.809Z] [worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: BUSY"}}
[debug] [2021-06-04T09:51:38.811Z] [worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: exited"}}
[debug] [2021-06-04T09:51:38.812Z] [worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8a8da55c-6d76-4923-b753-85c6df464f21]: FINISHED"}}
[debug] [2021-06-04T09:51:39.235Z] [runtime-status] [25077] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:51:39.237Z] [runtime-status] [25077] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:51:39.239Z] [runtime-status] [25077] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:39.240Z] [runtime-status] [25077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:39.240Z] [runtime-status] [25077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:39.244Z] [runtime-status] [25077] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:51:39.244Z] [runtime-status] [25077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:39.276Z] [runtime-status] [25077] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:51:39.277Z] [runtime-status] [25077] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:51:39.277Z] [runtime-status] [25077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:39.278Z] [runtime-status] [25077] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:39.279Z] [runtime-status] [25077] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:39.279Z] [runtime-status] [25077] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25077] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:51:39.352Z] [worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: IDLE"}}
[debug] [2021-06-04T09:51:42.710Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:51:42.710Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:51:42.710Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=17994 --> us-central1-api
[debug] [2021-06-04T09:51:42.710Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-06-04T09:51:42.720Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:51:42.720Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:51:42.720Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:51:42.720Z] [worker-us-central1-api-3fd5d1eb-2d7a-4201-a546-33a4a18c725f]: Assigning socketPath: /tmp/fire_emu_25092.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3fd5d1eb-2d7a-4201-a546-33a4a18c725f]: Assigning socketPath: /tmp/fire_emu_25092.sock"}}
[debug] [2021-06-04T09:51:42.720Z] [worker-us-central1-api-3fd5d1eb-2d7a-4201-a546-33a4a18c725f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3fd5d1eb-2d7a-4201-a546-33a4a18c725f]: BUSY"}}
[debug] [2021-06-04T09:51:43.217Z] [runtime-status] [25092] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:51:43.220Z] [runtime-status] [25092] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:51:43.222Z] [runtime-status] [25092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:43.224Z] [runtime-status] [25092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:43.225Z] [runtime-status] [25092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:43.229Z] [runtime-status] [25092] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:51:43.230Z] [runtime-status] [25092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:43.262Z] [runtime-status] [25092] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:51:43.262Z] [runtime-status] [25092] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:51:43.264Z] [runtime-status] [25092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:43.266Z] [runtime-status] [25092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:43.267Z] [runtime-status] [25092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:51:43.267Z] [runtime-status] [25092] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:51:43.340Z] [runtime-status] [25092] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:51:43.342Z] [runtime-status] [25092] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:51:43.342Z] [runtime-status] [25092] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:51:43.346Z] [runtime-status] [25092] Attempting to listen to socketPath: /tmp/fire_emu_25092.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Attempting to listen to socketPath: /tmp/fire_emu_25092.sock"}}
[debug] [2021-06-04T09:51:43.347Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:51:43.348Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=17994, mapping to path=/payments/create?total=17994 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=17994, mapping to path=/payments/create?total=17994"}}
[debug] [2021-06-04T09:51:43.358Z] [runtime-status] [25092] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Ephemeral server handling POST request"}}
[info] >  payment request received for this amount >>> 17994 {"user":"payment request received for this amount >>> 17994","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received for this amount >>> 17994"}}
[debug] [2021-06-04T09:51:43.370Z] [runtime-status] [25092] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25092] Ephemeral server survived."}}
[info] >  (node:25092) UnhandledPromiseRejectionWarning: ReferenceError: Response is not defined {"user":"(node:25092) UnhandledPromiseRejectionWarning: ReferenceError: Response is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25092) UnhandledPromiseRejectionWarning: ReferenceError: Response is not defined"}}
[info] >      at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:29:5) {"user":"    at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:29:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at app.post (/home/bsmithtbc/Documents/Learn/amazon/functions/index.js:29:5)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:68:7) {"user":"    at process._tickCallback (internal/process/next_tick.js:68:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[info] >  (node:25092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:25092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:25092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:25092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T09:52:43.357Z] [worker-us-central1-api-3fd5d1eb-2d7a-4201-a546-33a4a18c725f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3fd5d1eb-2d7a-4201-a546-33a4a18c725f]: exited"}}
[debug] [2021-06-04T09:52:43.357Z] [worker-us-central1-api-3fd5d1eb-2d7a-4201-a546-33a4a18c725f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3fd5d1eb-2d7a-4201-a546-33a4a18c725f]: FINISHED"}}
[debug] [2021-06-04T09:52:43.357Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T09:56:58.262Z] File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers"}}
[debug] [2021-06-04T09:56:59.263Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-06-04T09:56:59.263Z] [worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: FINISHING"}}
[debug] [2021-06-04T09:56:59.263Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-06-04T09:56:59.271Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-06-04T09:56:59.271Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-06-04T09:56:59.271Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-06-04T09:56:59.271Z] [worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: Assigning socketPath: /tmp/fire_emu_25469.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: Assigning socketPath: /tmp/fire_emu_25469.sock"}}
[debug] [2021-06-04T09:56:59.271Z] [worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: BUSY"}}
[debug] [2021-06-04T09:56:59.272Z] [worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: exited"}}
[debug] [2021-06-04T09:56:59.272Z] [worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0ae9c75c-158f-4e89-8eb8-30561fff7fea]: FINISHED"}}
[debug] [2021-06-04T09:56:59.780Z] [runtime-status] [25469] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:56:59.781Z] [runtime-status] [25469] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:56:59.783Z] [runtime-status] [25469] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:56:59.785Z] [runtime-status] [25469] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:56:59.786Z] [runtime-status] [25469] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:56:59.790Z] [runtime-status] [25469] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:56:59.790Z] [runtime-status] [25469] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:56:59.831Z] [runtime-status] [25469] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:56:59.831Z] [runtime-status] [25469] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:56:59.831Z] [runtime-status] [25469] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:56:59.833Z] [runtime-status] [25469] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:56:59.833Z] [runtime-status] [25469] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:56:59.834Z] [runtime-status] [25469] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25469] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:56:59.934Z] [worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: IDLE"}}
[debug] [2021-06-04T09:58:58.855Z] File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers"}}
[debug] [2021-06-04T09:58:59.856Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-06-04T09:58:59.856Z] [worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: FINISHING"}}
[debug] [2021-06-04T09:58:59.856Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-06-04T09:58:59.865Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-06-04T09:58:59.865Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-06-04T09:58:59.865Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-06-04T09:58:59.866Z] [worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: Assigning socketPath: /tmp/fire_emu_25663.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: Assigning socketPath: /tmp/fire_emu_25663.sock"}}
[debug] [2021-06-04T09:58:59.866Z] [worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: BUSY"}}
[debug] [2021-06-04T09:58:59.866Z] [worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: exited"}}
[debug] [2021-06-04T09:58:59.866Z] [worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a46829d8-49fa-48fc-addd-f048a344d638]: FINISHED"}}
[debug] [2021-06-04T09:59:00.300Z] [runtime-status] [25663] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:59:00.302Z] [runtime-status] [25663] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:59:00.304Z] [runtime-status] [25663] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:00.305Z] [runtime-status] [25663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:00.306Z] [runtime-status] [25663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:00.309Z] [runtime-status] [25663] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:59:00.310Z] [runtime-status] [25663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:00.340Z] [runtime-status] [25663] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:59:00.340Z] [runtime-status] [25663] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:00.340Z] [runtime-status] [25663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:00.341Z] [runtime-status] [25663] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:00.341Z] [runtime-status] [25663] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:00.341Z] [runtime-status] [25663] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25663] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:00.417Z] [worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: IDLE"}}
[debug] [2021-06-04T09:59:07.660Z] File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/bsmithtbc/Documents/Learn/amazon/functions/index.js changed, reloading triggers"}}
[debug] [2021-06-04T09:59:08.661Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-06-04T09:59:08.661Z] [worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: FINISHING"}}
[debug] [2021-06-04T09:59:08.662Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-06-04T09:59:08.669Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-06-04T09:59:08.670Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-06-04T09:59:08.670Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-06-04T09:59:08.670Z] [worker-~diagnostic~-2ce33291-430d-47f9-b4a5-3151a4d34bbd]: Assigning socketPath: /tmp/fire_emu_25674.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2ce33291-430d-47f9-b4a5-3151a4d34bbd]: Assigning socketPath: /tmp/fire_emu_25674.sock"}}
[debug] [2021-06-04T09:59:08.674Z] [worker-~diagnostic~-2ce33291-430d-47f9-b4a5-3151a4d34bbd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2ce33291-430d-47f9-b4a5-3151a4d34bbd]: BUSY"}}
[debug] [2021-06-04T09:59:08.674Z] [worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: exited"}}
[debug] [2021-06-04T09:59:08.674Z] [worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-364598af-6abf-4948-8a3a-dbf2b126568a]: FINISHED"}}
[debug] [2021-06-04T09:59:09.101Z] [runtime-status] [25674] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:59:09.103Z] [runtime-status] [25674] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:59:09.109Z] [runtime-status] [25674] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:09.109Z] [runtime-status] [25674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:09.109Z] [runtime-status] [25674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:09.109Z] [runtime-status] [25674] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:59:09.109Z] [runtime-status] [25674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:09.140Z] [runtime-status] [25674] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:59:09.141Z] [runtime-status] [25674] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:09.141Z] [runtime-status] [25674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:09.143Z] [runtime-status] [25674] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:09.143Z] [runtime-status] [25674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:09.144Z] [runtime-status] [25674] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [25674] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:09.219Z] [worker-~diagnostic~-2ce33291-430d-47f9-b4a5-3151a4d34bbd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2ce33291-430d-47f9-b4a5-3151a4d34bbd]: IDLE"}}
[debug] [2021-06-04T09:59:16.863Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T09:59:16.863Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:59:16.863Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:59:16.863Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-06-04T09:59:16.868Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:59:16.868Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-06-04T09:59:16.868Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:59:16.868Z] [worker-us-central1-api-db2790a2-2203-45ba-8690-84ce2d0f5ee5]: Assigning socketPath: /tmp/fire_emu_25691.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-db2790a2-2203-45ba-8690-84ce2d0f5ee5]: Assigning socketPath: /tmp/fire_emu_25691.sock"}}
[debug] [2021-06-04T09:59:16.868Z] [worker-us-central1-api-db2790a2-2203-45ba-8690-84ce2d0f5ee5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-db2790a2-2203-45ba-8690-84ce2d0f5ee5]: BUSY"}}
[debug] [2021-06-04T09:59:17.439Z] [runtime-status] [25691] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:59:17.442Z] [runtime-status] [25691] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:59:17.445Z] [runtime-status] [25691] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:17.446Z] [runtime-status] [25691] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:17.448Z] [runtime-status] [25691] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:17.454Z] [runtime-status] [25691] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:59:17.455Z] [runtime-status] [25691] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:17.501Z] [runtime-status] [25691] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:59:17.502Z] [runtime-status] [25691] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:17.503Z] [runtime-status] [25691] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:17.505Z] [runtime-status] [25691] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:17.507Z] [runtime-status] [25691] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:17.508Z] [runtime-status] [25691] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:17.626Z] [runtime-status] [25691] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:59:17.634Z] [runtime-status] [25691] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:59:17.634Z] [runtime-status] [25691] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:59:17.639Z] [runtime-status] [25691] Attempting to listen to socketPath: /tmp/fire_emu_25691.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Attempting to listen to socketPath: /tmp/fire_emu_25691.sock"}}
[debug] [2021-06-04T09:59:17.644Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:59:17.644Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:59:17.651Z] [runtime-status] [25691] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Ephemeral server handling POST request"}}
[info] >  payment request received for this amount >>> 0 {"user":"payment request received for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received for this amount >>> 0"}}
[debug] [2021-06-04T09:59:17.666Z] [runtime-status] [25691] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25691] Ephemeral server survived."}}
[info] >  (node:25691) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:25691) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25691) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.res.once (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:25691) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:25691) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25691) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:25691) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:25691) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25691) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:59:25.687Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:59:25.687Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:59:25.687Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=5998 --> us-central1-api
[debug] [2021-06-04T09:59:25.693Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:59:25.693Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-06-04T09:59:25.693Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:59:25.694Z] [worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: Assigning socketPath: /tmp/fire_emu_25709.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: Assigning socketPath: /tmp/fire_emu_25709.sock"}}
[debug] [2021-06-04T09:59:25.694Z] [worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: BUSY"}}
[debug] [2021-06-04T09:59:26.203Z] [runtime-status] [25709] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:59:26.206Z] [runtime-status] [25709] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:59:26.215Z] [runtime-status] [25709] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:26.217Z] [runtime-status] [25709] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:26.219Z] [runtime-status] [25709] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:26.223Z] [runtime-status] [25709] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:59:26.225Z] [runtime-status] [25709] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:26.260Z] [runtime-status] [25709] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:59:26.260Z] [runtime-status] [25709] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:26.261Z] [runtime-status] [25709] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:26.263Z] [runtime-status] [25709] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:26.263Z] [runtime-status] [25709] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:26.265Z] [runtime-status] [25709] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:26.355Z] [runtime-status] [25709] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:59:26.356Z] [runtime-status] [25709] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:59:26.356Z] [runtime-status] [25709] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:59:26.362Z] [runtime-status] [25709] Attempting to listen to socketPath: /tmp/fire_emu_25709.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Attempting to listen to socketPath: /tmp/fire_emu_25709.sock"}}
[debug] [2021-06-04T09:59:26.365Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:59:26.366Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-06-04T09:59:26.380Z] [runtime-status] [25709] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Ephemeral server handling POST request"}}
[info] >  payment request received for this amount >>> 5998 {"user":"payment request received for this amount >>> 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received for this amount >>> 5998"}}
[debug] [2021-06-04T09:59:26.395Z] [runtime-status] [25709] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-06-04T09:59:26.762Z] [worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: IDLE"}}
[debug] [2021-06-04T09:59:26.762Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T09:59:37.784Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-06-04T09:59:37.785Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-06-04T09:59:37.785Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-06-04T09:59:37.785Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:59:37.785Z] [worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: Assigning socketPath: /tmp/fire_emu_25709.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: Assigning socketPath: /tmp/fire_emu_25709.sock"}}
[debug] [2021-06-04T09:59:37.785Z] [worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: BUSY"}}
[debug] [2021-06-04T09:59:37.785Z] [runtime-status] [25709] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:59:37.793Z] [runtime-status] [25709] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:59:37.793Z] [runtime-status] [25709] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:59:37.795Z] [runtime-status] [25709] Attempting to listen to socketPath: /tmp/fire_emu_25709.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Attempting to listen to socketPath: /tmp/fire_emu_25709.sock"}}
[debug] [2021-06-04T09:59:37.796Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:59:37.797Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-06-04T09:59:37.801Z] [runtime-status] [25709] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Ephemeral server handling POST request"}}
[info] >  payment request received for this amount >>> 0 {"user":"payment request received for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received for this amount >>> 0"}}
[debug] [2021-06-04T09:59:37.826Z] [runtime-status] [25709] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25709] Ephemeral server survived."}}
[info] >  (node:25709) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:25709) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25709) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.res.once (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/bsmithtbc/Documents/Learn/amazon/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:25709) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:25709) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25709) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:25709) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:25709) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25709) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-06-04T09:59:45.240Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-06-04T09:59:45.241Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-06-04T09:59:45.241Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=8997 --> us-central1-api
[debug] [2021-06-04T09:59:45.247Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-06-04T09:59:45.276Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-06-04T09:59:45.276Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T09:59:45.276Z] [worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: Assigning socketPath: /tmp/fire_emu_25729.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: Assigning socketPath: /tmp/fire_emu_25729.sock"}}
[debug] [2021-06-04T09:59:45.276Z] [worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: BUSY"}}
[debug] [2021-06-04T09:59:45.756Z] [runtime-status] [25729] Functions runtime initialized. {"cwd":"/home/bsmithtbc/Documents/Learn/amazon/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Functions runtime initialized. {\"cwd\":\"/home/bsmithtbc/Documents/Learn/amazon/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-06-04T09:59:45.758Z] [runtime-status] [25729] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Disabled runtime features: undefined"}}
[debug] [2021-06-04T09:59:45.760Z] [runtime-status] [25729] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:45.762Z] [runtime-status] [25729] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:45.762Z] [runtime-status] [25729] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:45.767Z] [runtime-status] [25729] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-06-04T09:59:45.768Z] [runtime-status] [25729] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:45.802Z] [runtime-status] [25729] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-06-04T09:59:45.802Z] [runtime-status] [25729] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:45.804Z] [runtime-status] [25729] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:45.805Z] [runtime-status] [25729] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:45.805Z] [runtime-status] [25729] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-06-04T09:59:45.805Z] [runtime-status] [25729] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"/home/bsmithtbc/Documents/Learn/amazon/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-06-04T09:59:45.903Z] [runtime-status] [25729] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T09:59:45.904Z] [runtime-status] [25729] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T09:59:45.904Z] [runtime-status] [25729] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T09:59:45.908Z] [runtime-status] [25729] Attempting to listen to socketPath: /tmp/fire_emu_25729.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Attempting to listen to socketPath: /tmp/fire_emu_25729.sock"}}
[debug] [2021-06-04T09:59:45.910Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T09:59:45.910Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-06-04T09:59:45.917Z] [runtime-status] [25729] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Ephemeral server handling POST request"}}
[info] >  payment request received for this amount >>> 8997 {"user":"payment request received for this amount >>> 8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received for this amount >>> 8997"}}
[debug] [2021-06-04T09:59:45.927Z] [runtime-status] [25729] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-06-04T09:59:46.350Z] [worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: IDLE"}}
[debug] [2021-06-04T09:59:46.350Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T10:00:17.654Z] [worker-us-central1-api-db2790a2-2203-45ba-8690-84ce2d0f5ee5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-db2790a2-2203-45ba-8690-84ce2d0f5ee5]: exited"}}
[debug] [2021-06-04T10:00:17.654Z] [worker-us-central1-api-db2790a2-2203-45ba-8690-84ce2d0f5ee5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-db2790a2-2203-45ba-8690-84ce2d0f5ee5]: FINISHED"}}
[debug] [2021-06-04T10:00:17.654Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:648:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-06-04T10:00:37.819Z] [worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: exited"}}
[debug] [2021-06-04T10:00:37.819Z] [worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-49272aa3-233a-42b7-b664-6038cb63129b]: FINISHED"}}
[debug] [2021-06-04T10:00:37.820Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-06-04T10:55:35.753Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-06-04T10:55:35.753Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-06-04T10:55:35.753Z] Accepted request POST /fir-cccd0/us-central1/api/payments/create?total=5998 --> us-central1-api
[debug] [2021-06-04T10:55:35.753Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 1"}}
[debug] [2021-06-04T10:55:35.753Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-06-04T10:55:35.753Z] [worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: Assigning socketPath: /tmp/fire_emu_25729.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: Assigning socketPath: /tmp/fire_emu_25729.sock"}}
[debug] [2021-06-04T10:55:35.753Z] [worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: BUSY"}}
[debug] [2021-06-04T10:55:35.754Z] [runtime-status] [25729] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-06-04T10:55:35.754Z] [runtime-status] [25729] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-06-04T10:55:35.754Z] [runtime-status] [25729] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Running us-central1-api in mode HTTPS"}}
[debug] [2021-06-04T10:55:35.754Z] [runtime-status] [25729] Attempting to listen to socketPath: /tmp/fire_emu_25729.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Attempting to listen to socketPath: /tmp/fire_emu_25729.sock"}}
[debug] [2021-06-04T10:55:35.755Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-06-04T10:55:35.755Z] [functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-cccd0/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-06-04T10:55:35.756Z] [runtime-status] [25729] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Ephemeral server handling POST request"}}
[info] >  payment request received for this amount >>> 5998 {"user":"payment request received for this amount >>> 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received for this amount >>> 5998"}}
[debug] [2021-06-04T10:55:35.758Z] [runtime-status] [25729] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25729] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-06-04T10:55:36.205Z] [worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eade21d7-6b6b-4e04-84f8-6a4498248d63]: IDLE"}}
[debug] [2021-06-04T10:55:36.205Z] [work-queue] {"queueLength":0,"workRunningCount":0}
